{"ast":null,"code":"import _objectSpread from\"/var/www/bewanted/bewanted/bewanted/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:''});const[showPassword,setShowPassword]=useState(false);const[formErrors,setFormErrors]=useState({});const{register,loading,error,isAuthenticated,clearError}=useAuth();const navigate=useNavigate();// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated){navigate('/dashboard');}},[isAuthenticated,navigate]);// Clear error when component unmounts\nuseEffect(()=>{return()=>clearError();},[clearError]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));// Clear field error when user starts typing\nif(formErrors[e.target.name]){setFormErrors(_objectSpread(_objectSpread({},formErrors),{},{[e.target.name]:''}));}};const validateForm=()=>{const errors={};if(!formData.name.trim()){errors.name='Name is required';}else if(formData.name.trim().length<2){errors.name='Name must be at least 2 characters';}if(!formData.email){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){errors.email='Email is invalid';}if(!formData.password){errors.password='Password is required';}else if(formData.password.length<6){errors.password='Password must be at least 6 characters';}if(!formData.confirmPassword){errors.confirmPassword='Please confirm your password';}else if(formData.password!==formData.confirmPassword){errors.confirmPassword='Passwords do not match';}return errors;};const handleSubmit=async e=>{e.preventDefault();clearError();const errors=validateForm();if(Object.keys(errors).length>0){setFormErrors(errors);return;}const result=await register(formData.name,formData.email,formData.password);if(result.success){navigate('/dashboard');}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Join us and start your journey today\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange,required:true,placeholder:\"Enter your full name\",className:\"form-input \".concat(formErrors.name?'error':'')}),formErrors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:formErrors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,placeholder:\"Enter your email\",className:\"form-input \".concat(formErrors.email?'error':'')}),formErrors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:formErrors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,placeholder:\"Enter your password\",className:\"form-input \".concat(formErrors.password?'error':'')}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"password-toggle\",onClick:()=>setShowPassword(!showPassword),children:showPassword?'üëÅÔ∏è':'üëÅÔ∏è‚Äçüó®Ô∏è'})]}),formErrors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:formErrors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true,placeholder:\"Confirm your password\",className:\"form-input \".concat(formErrors.confirmPassword?'error':'')}),formErrors.confirmPassword&&/*#__PURE__*/_jsx(\"span\",{className:\"field-error\",children:formErrors.confirmPassword})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-options\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",required:true}),/*#__PURE__*/_jsxs(\"span\",{children:[\"I agree to the\",' ',/*#__PURE__*/_jsx(Link,{to:\"/terms\",className:\"auth-link\",children:\"Terms of Service\"}),' ',\"and\",' ',/*#__PURE__*/_jsx(Link,{to:\"/privacy\",className:\"auth-link\",children:\"Privacy Policy\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn btn-primary btn-full\",children:loading?'Creating Account...':'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"auth-link\",children:\"Sign in here\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-side\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-side-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Why Join Us?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Become part of our growing community and unlock access to premium features and exclusive content.\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"feature-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Free to get started\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 No setup fees\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Cancel anytime\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Premium support included\"})]})]})})]})})});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}